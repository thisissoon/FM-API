player:
  image: soon/fm-player
  command: manage.py runserver
  ports:
    - "5000:5000"
  links:
    - postgres
    - redis
  environment:
    - SQLALCHEMY_DATABASE_URI=postgresql://soonfm:soonfm@FMAPI_postgres_1:5432/soonfm
    - REDIS_SERVER_URI=redis://FMAPI_redis_1:6379/
socket:
  image: soon/fm-socket
  command: forever -w server.js
  ports:
    - "8080:8080"
  links:
    - redis
postgres:
  image: soon/docker-postgresql
  ports:
    - "5432:5432"
  expose:
    - "5432"
  environment:
    - POSTGRESQL_USER=soonfm
    - POSTGRESQL_PASS=soonfm
    - POSTGRESQL_DB=soonfm
redis:
  image: redis
  ports:
    - "6379:6379"
  expose:
    - "6379"
